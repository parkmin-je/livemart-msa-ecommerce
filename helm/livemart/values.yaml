global:
  namespace: livemart
  imageRegistry: livemart
  imagePullPolicy: IfNotPresent

# 서비스 공통 설정
services:
  eureka:
    name: eureka-server
    replicas: 1
    port: 8761
    image: eureka-server
    tag: latest
    resources:
      requests:
        memory: "256Mi"
        cpu: "200m"
      limits:
        memory: "512Mi"
        cpu: "500m"

  gateway:
    name: api-gateway
    replicas: 2
    port: 8080
    image: api-gateway
    tag: latest
    resources:
      requests:
        memory: "256Mi"
        cpu: "200m"
      limits:
        memory: "512Mi"
        cpu: "500m"
    hpa:
      enabled: true
      minReplicas: 2
      maxReplicas: 5
      targetCPU: 70

  user:
    name: user-service
    replicas: 2
    port: 8081
    image: user-service
    tag: latest
    resources:
      requests:
        memory: "256Mi"
        cpu: "200m"
      limits:
        memory: "512Mi"
        cpu: "500m"
    hpa:
      enabled: true
      minReplicas: 2
      maxReplicas: 5
      targetCPU: 70

  product:
    name: product-service
    replicas: 2
    port: 8082
    image: product-service
    tag: latest
    resources:
      requests:
        memory: "256Mi"
        cpu: "200m"
      limits:
        memory: "512Mi"
        cpu: "500m"
    hpa:
      enabled: true
      minReplicas: 2
      maxReplicas: 5
      targetCPU: 70

  order:
    name: order-service
    replicas: 2
    port: 8083
    image: order-service
    tag: latest
    resources:
      requests:
        memory: "256Mi"
        cpu: "200m"
      limits:
        memory: "512Mi"
        cpu: "500m"
    hpa:
      enabled: true
      minReplicas: 2
      maxReplicas: 5
      targetCPU: 70

  payment:
    name: payment-service
    replicas: 2
    port: 8084
    image: payment-service
    tag: latest
    resources:
      requests:
        memory: "256Mi"
        cpu: "200m"
      limits:
        memory: "512Mi"
        cpu: "500m"
    hpa:
      enabled: true
      minReplicas: 2
      maxReplicas: 4
      targetCPU: 70

# 인프라 설정
infra:
  mysql:
    enabled: true
    storage: 10Gi

  redis:
    enabled: true
    maxMemory: "256mb"

  kafka:
    enabled: true

  monitoring:
    prometheus:
      enabled: true
    grafana:
      enabled: true
      adminUser: admin
      adminPassword: admin
    zipkin:
      enabled: true

# Ingress 설정
ingress:
  enabled: true
  className: nginx
  host: api.livemart.com
