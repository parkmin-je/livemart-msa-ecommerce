# LiveMart 프로덕션 환경 설정

global:
  environment: production
  storageClass: fast-ssd

# Eureka Server
eurekaServer:
  replicaCount: 3
  resources:
    requests:
      memory: "1Gi"
      cpu: "500m"
    limits:
      memory: "2Gi"
      cpu: "1000m"
  autoscaling:
    enabled: true
    minReplicas: 3
    maxReplicas: 10
    targetCPUUtilizationPercentage: 70

# API Gateway
apiGateway:
  replicaCount: 3
  resources:
    requests:
      memory: "1Gi"
      cpu: "500m"
    limits:
      memory: "2Gi"
      cpu: "1000m"
  autoscaling:
    enabled: true
    minReplicas: 3
    maxReplicas: 20
    targetCPUUtilizationPercentage: 70
  ingress:
    enabled: true
    className: nginx
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt-prod
      nginx.ingress.kubernetes.io/rate-limit: "100"
      nginx.ingress.kubernetes.io/ssl-redirect: "true"
    hosts:
      - host: api.livemart.com
        paths:
          - path: /
            pathType: Prefix
    tls:
      - secretName: livemart-tls
        hosts:
          - api.livemart.com

# Product Service
productService:
  replicaCount: 5
  resources:
    requests:
      memory: "1.5Gi"
      cpu: "1000m"
    limits:
      memory: "3Gi"
      cpu: "2000m"
  autoscaling:
    enabled: true
    minReplicas: 5
    maxReplicas: 30
    targetCPUUtilizationPercentage: 75

# Order Service
orderService:
  replicaCount: 5
  resources:
    requests:
      memory: "1.5Gi"
      cpu: "1000m"
    limits:
      memory: "3Gi"
      cpu: "2000m"
  autoscaling:
    enabled: true
    minReplicas: 5
    maxReplicas: 30
    targetCPUUtilizationPercentage: 75

# Redis
redis:
  enabled: true
  architecture: replication
  auth:
    enabled: true
  master:
    persistence:
      enabled: true
      size: 20Gi
  replica:
    replicaCount: 3
    persistence:
      enabled: true
      size: 20Gi

# Kafka
kafka:
  enabled: true
  replicaCount: 3
  persistence:
    enabled: true
    size: 100Gi
  zookeeper:
    replicaCount: 3
    persistence:
      enabled: true
      size: 10Gi

# Elasticsearch
elasticsearch:
  enabled: true
  replicas: 3
  minimumMasterNodes: 2
  volumeClaimTemplate:
    resources:
      requests:
        storage: 100Gi

# MySQL
mysql:
  enabled: true
  architecture: replication
  auth:
    rootPassword: "CHANGE_ME_IN_SECRET"
  primary:
    persistence:
      enabled: true
      size: 100Gi
  secondary:
    replicaCount: 2
    persistence:
      enabled: true
      size: 100Gi

# Monitoring
monitoring:
  prometheus:
    enabled: true
    retention: 30d
    storage: 100Gi
  grafana:
    enabled: true
    adminPassword: "CHANGE_ME_IN_SECRET"
    persistence:
      enabled: true
      size: 10Gi

# Security
security:
  podSecurityPolicy:
    enabled: true
  networkPolicy:
    enabled: true
