# WARNING: 프로덕션에서는 이 파일을 직접 사용하지 마세요.
# AWS Secrets Manager + External Secrets Operator 또는
# HashiCorp Vault를 사용하여 시크릿을 관리하세요.
#
# 사용법 (AWS Secrets Manager):
#   1. AWS Secrets Manager에 시크릿 생성
#   2. ExternalSecret CRD로 K8s Secret 자동 생성
#   3. 아래 Secret은 개발/테스트 환경에서만 사용
#
# 사용법 (Sealed Secrets):
#   kubeseal --format=yaml < secrets.yml > sealed-secrets.yml
---
apiVersion: v1
kind: Secret
metadata:
  name: livemart-db-secrets
  namespace: livemart
  labels:
    app.kubernetes.io/part-of: livemart
    app.kubernetes.io/component: database
type: Opaque
stringData:
  # 개발 환경 전용 - 프로덕션에서는 External Secrets Operator 사용
  MYSQL_USER_USERNAME: "user"
  MYSQL_USER_PASSWORD: "user123"
  MYSQL_PRODUCT_USERNAME: "product"
  MYSQL_PRODUCT_PASSWORD: "product123"
  MYSQL_ORDER_USERNAME: "order"
  MYSQL_ORDER_PASSWORD: "order123"
---
apiVersion: v1
kind: Secret
metadata:
  name: livemart-auth-secrets
  namespace: livemart
  labels:
    app.kubernetes.io/part-of: livemart
    app.kubernetes.io/component: auth
type: Opaque
stringData:
  JWT_SECRET: "your-secret-key-must-be-at-least-256-bits-long-for-HS256-algorithm-security"
---
apiVersion: v1
kind: Secret
metadata:
  name: livemart-aws-secrets
  namespace: livemart
  labels:
    app.kubernetes.io/part-of: livemart
    app.kubernetes.io/component: aws
type: Opaque
stringData:
  AWS_ACCESS_KEY_ID: ""
  AWS_SECRET_ACCESS_KEY: ""
  AWS_S3_BUCKET: "livemart-product-images"
  AWS_REGION: "ap-northeast-2"
---
# ExternalSecret 예시 (External Secrets Operator 설치 필요)
# apiVersion: external-secrets.io/v1beta1
# kind: ExternalSecret
# metadata:
#   name: livemart-db-external
#   namespace: livemart
# spec:
#   refreshInterval: 1h
#   secretStoreRef:
#     name: aws-secretsmanager
#     kind: ClusterSecretStore
#   target:
#     name: livemart-db-secrets
#     creationPolicy: Owner
#   data:
#     - secretKey: MYSQL_USER_PASSWORD
#       remoteRef:
#         key: livemart/production/db
#         property: user_password
#     - secretKey: MYSQL_PRODUCT_PASSWORD
#       remoteRef:
#         key: livemart/production/db
#         property: product_password
#     - secretKey: MYSQL_ORDER_PASSWORD
#       remoteRef:
#         key: livemart/production/db
#         property: order_password
